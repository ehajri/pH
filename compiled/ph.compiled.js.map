{"version":3,"sources":["node_modules/browser-pack/_prelude.js","node_modules/babel-runtime/core-js/json/stringify.js","node_modules/babel-runtime/core-js/object/assign.js","node_modules/core-js/library/fn/json/stringify.js","node_modules/core-js/library/fn/object/assign.js","node_modules/core-js/library/modules/_a-function.js","node_modules/core-js/library/modules/_an-object.js","node_modules/core-js/library/modules/_array-includes.js","node_modules/core-js/library/modules/_cof.js","node_modules/core-js/library/modules/_core.js","node_modules/core-js/library/modules/_ctx.js","node_modules/core-js/library/modules/_defined.js","node_modules/core-js/library/modules/_descriptors.js","node_modules/core-js/library/modules/_dom-create.js","node_modules/core-js/library/modules/_enum-bug-keys.js","node_modules/core-js/library/modules/_export.js","node_modules/core-js/library/modules/_fails.js","node_modules/core-js/library/modules/_global.js","node_modules/core-js/library/modules/_has.js","node_modules/core-js/library/modules/_hide.js","node_modules/core-js/library/modules/_ie8-dom-define.js","node_modules/core-js/library/modules/_iobject.js","node_modules/core-js/library/modules/_is-object.js","node_modules/core-js/library/modules/_object-assign.js","node_modules/core-js/library/modules/_object-dp.js","node_modules/core-js/library/modules/_object-gops.js","node_modules/core-js/library/modules/_object-keys-internal.js","node_modules/core-js/library/modules/_object-keys.js","node_modules/core-js/library/modules/_object-pie.js","node_modules/core-js/library/modules/_property-desc.js","node_modules/core-js/library/modules/_shared-key.js","node_modules/core-js/library/modules/_shared.js","node_modules/core-js/library/modules/_to-index.js","node_modules/core-js/library/modules/_to-integer.js","node_modules/core-js/library/modules/_to-iobject.js","node_modules/core-js/library/modules/_to-length.js","node_modules/core-js/library/modules/_to-object.js","node_modules/core-js/library/modules/_to-primitive.js","node_modules/core-js/library/modules/_uid.js","node_modules/core-js/library/modules/es6.object.assign.js","src/ph.js"],"names":[],"mappings":"AAAA;ACAA;;ACAA;;ACAA;AACA;AACA;AACA;AACA;;ACJA;AACA;;ACDA;AACA;AACA;AACA;;ACHA;AACA;AACA;AACA;AACA;;ACJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACpBA;AACA;AACA;AACA;AACA;;ACJA;AACA;;ACDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACnBA;AACA;AACA;AACA;AACA;;ACJA;AACA;AACA;AACA;;ACHA;AACA;AACA;AACA;AACA;AACA;AACA;;ACNA;AACA;AACA;AACA;;ACHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC5DA;AACA;AACA;AACA;AACA;AACA;AACA;;ACNA;AACA;AACA;AACA;;ACHA;AACA;AACA;AACA;;ACHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACPA;AACA;AACA;;ACFA;AACA;AACA;AACA;AACA;;ACJA;AACA;AACA;;ACFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AChCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACfA;;ACAA;AACA;A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","file":"ph.js","sourceRoot":"/source/","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","module.exports = { \"default\": require(\"core-js/library/fn/json/stringify\"), __esModule: true };","module.exports = { \"default\": require(\"core-js/library/fn/object/assign\"), __esModule: true };","var core  = require('../../modules/_core')\n  , $JSON = core.JSON || (core.JSON = {stringify: JSON.stringify});\nmodule.exports = function stringify(it){ // eslint-disable-line no-unused-vars\n  return $JSON.stringify.apply($JSON, arguments);\n};","require('../../modules/es6.object.assign');\nmodule.exports = require('../../modules/_core').Object.assign;","module.exports = function(it){\n  if(typeof it != 'function')throw TypeError(it + ' is not a function!');\n  return it;\n};","var isObject = require('./_is-object');\nmodule.exports = function(it){\n  if(!isObject(it))throw TypeError(it + ' is not an object!');\n  return it;\n};","// false -> Array#indexOf\n// true  -> Array#includes\nvar toIObject = require('./_to-iobject')\n  , toLength  = require('./_to-length')\n  , toIndex   = require('./_to-index');\nmodule.exports = function(IS_INCLUDES){\n  return function($this, el, fromIndex){\n    var O      = toIObject($this)\n      , length = toLength(O.length)\n      , index  = toIndex(fromIndex, length)\n      , value;\n    // Array#includes uses SameValueZero equality algorithm\n    if(IS_INCLUDES && el != el)while(length > index){\n      value = O[index++];\n      if(value != value)return true;\n    // Array#toIndex ignores holes, Array#includes - not\n    } else for(;length > index; index++)if(IS_INCLUDES || index in O){\n      if(O[index] === el)return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};","var toString = {}.toString;\n\nmodule.exports = function(it){\n  return toString.call(it).slice(8, -1);\n};","var core = module.exports = {version: '2.4.0'};\nif(typeof __e == 'number')__e = core; // eslint-disable-line no-undef","// optional / simple context binding\nvar aFunction = require('./_a-function');\nmodule.exports = function(fn, that, length){\n  aFunction(fn);\n  if(that === undefined)return fn;\n  switch(length){\n    case 1: return function(a){\n      return fn.call(that, a);\n    };\n    case 2: return function(a, b){\n      return fn.call(that, a, b);\n    };\n    case 3: return function(a, b, c){\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function(/* ...args */){\n    return fn.apply(that, arguments);\n  };\n};","// 7.2.1 RequireObjectCoercible(argument)\nmodule.exports = function(it){\n  if(it == undefined)throw TypeError(\"Can't call method on  \" + it);\n  return it;\n};","// Thank's IE8 for his funny defineProperty\nmodule.exports = !require('./_fails')(function(){\n  return Object.defineProperty({}, 'a', {get: function(){ return 7; }}).a != 7;\n});","var isObject = require('./_is-object')\n  , document = require('./_global').document\n  // in old IE typeof document.createElement is 'object'\n  , is = isObject(document) && isObject(document.createElement);\nmodule.exports = function(it){\n  return is ? document.createElement(it) : {};\n};","// IE 8- don't enum bug keys\r\nmodule.exports = (\r\n  'constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf'\r\n).split(',');","var global    = require('./_global')\n  , core      = require('./_core')\n  , ctx       = require('./_ctx')\n  , hide      = require('./_hide')\n  , PROTOTYPE = 'prototype';\n\nvar $export = function(type, name, source){\n  var IS_FORCED = type & $export.F\n    , IS_GLOBAL = type & $export.G\n    , IS_STATIC = type & $export.S\n    , IS_PROTO  = type & $export.P\n    , IS_BIND   = type & $export.B\n    , IS_WRAP   = type & $export.W\n    , exports   = IS_GLOBAL ? core : core[name] || (core[name] = {})\n    , expProto  = exports[PROTOTYPE]\n    , target    = IS_GLOBAL ? global : IS_STATIC ? global[name] : (global[name] || {})[PROTOTYPE]\n    , key, own, out;\n  if(IS_GLOBAL)source = name;\n  for(key in source){\n    // contains in native\n    own = !IS_FORCED && target && target[key] !== undefined;\n    if(own && key in exports)continue;\n    // export native or passed\n    out = own ? target[key] : source[key];\n    // prevent global pollution for namespaces\n    exports[key] = IS_GLOBAL && typeof target[key] != 'function' ? source[key]\n    // bind timers to global for call from export context\n    : IS_BIND && own ? ctx(out, global)\n    // wrap global constructors for prevent change them in library\n    : IS_WRAP && target[key] == out ? (function(C){\n      var F = function(a, b, c){\n        if(this instanceof C){\n          switch(arguments.length){\n            case 0: return new C;\n            case 1: return new C(a);\n            case 2: return new C(a, b);\n          } return new C(a, b, c);\n        } return C.apply(this, arguments);\n      };\n      F[PROTOTYPE] = C[PROTOTYPE];\n      return F;\n    // make static versions for prototype methods\n    })(out) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;\n    // export proto methods to core.%CONSTRUCTOR%.methods.%NAME%\n    if(IS_PROTO){\n      (exports.virtual || (exports.virtual = {}))[key] = out;\n      // export proto methods to core.%CONSTRUCTOR%.prototype.%NAME%\n      if(type & $export.R && expProto && !expProto[key])hide(expProto, key, out);\n    }\n  }\n};\n// type bitmap\n$export.F = 1;   // forced\n$export.G = 2;   // global\n$export.S = 4;   // static\n$export.P = 8;   // proto\n$export.B = 16;  // bind\n$export.W = 32;  // wrap\n$export.U = 64;  // safe\n$export.R = 128; // real proto method for `library` \nmodule.exports = $export;","module.exports = function(exec){\n  try {\n    return !!exec();\n  } catch(e){\n    return true;\n  }\n};","// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nvar global = module.exports = typeof window != 'undefined' && window.Math == Math\n  ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();\nif(typeof __g == 'number')__g = global; // eslint-disable-line no-undef","var hasOwnProperty = {}.hasOwnProperty;\nmodule.exports = function(it, key){\n  return hasOwnProperty.call(it, key);\n};","var dP         = require('./_object-dp')\n  , createDesc = require('./_property-desc');\nmodule.exports = require('./_descriptors') ? function(object, key, value){\n  return dP.f(object, key, createDesc(1, value));\n} : function(object, key, value){\n  object[key] = value;\n  return object;\n};","module.exports = !require('./_descriptors') && !require('./_fails')(function(){\r\n  return Object.defineProperty(require('./_dom-create')('div'), 'a', {get: function(){ return 7; }}).a != 7;\r\n});","// fallback for non-array-like ES3 and non-enumerable old V8 strings\nvar cof = require('./_cof');\nmodule.exports = Object('z').propertyIsEnumerable(0) ? Object : function(it){\n  return cof(it) == 'String' ? it.split('') : Object(it);\n};","module.exports = function(it){\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};","'use strict';\n// 19.1.2.1 Object.assign(target, source, ...)\nvar getKeys  = require('./_object-keys')\n  , gOPS     = require('./_object-gops')\n  , pIE      = require('./_object-pie')\n  , toObject = require('./_to-object')\n  , IObject  = require('./_iobject')\n  , $assign  = Object.assign;\n\n// should work with symbols and should have deterministic property order (V8 bug)\nmodule.exports = !$assign || require('./_fails')(function(){\n  var A = {}\n    , B = {}\n    , S = Symbol()\n    , K = 'abcdefghijklmnopqrst';\n  A[S] = 7;\n  K.split('').forEach(function(k){ B[k] = k; });\n  return $assign({}, A)[S] != 7 || Object.keys($assign({}, B)).join('') != K;\n}) ? function assign(target, source){ // eslint-disable-line no-unused-vars\n  var T     = toObject(target)\n    , aLen  = arguments.length\n    , index = 1\n    , getSymbols = gOPS.f\n    , isEnum     = pIE.f;\n  while(aLen > index){\n    var S      = IObject(arguments[index++])\n      , keys   = getSymbols ? getKeys(S).concat(getSymbols(S)) : getKeys(S)\n      , length = keys.length\n      , j      = 0\n      , key;\n    while(length > j)if(isEnum.call(S, key = keys[j++]))T[key] = S[key];\n  } return T;\n} : $assign;","var anObject       = require('./_an-object')\n  , IE8_DOM_DEFINE = require('./_ie8-dom-define')\n  , toPrimitive    = require('./_to-primitive')\n  , dP             = Object.defineProperty;\n\nexports.f = require('./_descriptors') ? Object.defineProperty : function defineProperty(O, P, Attributes){\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if(IE8_DOM_DEFINE)try {\n    return dP(O, P, Attributes);\n  } catch(e){ /* empty */ }\n  if('get' in Attributes || 'set' in Attributes)throw TypeError('Accessors not supported!');\n  if('value' in Attributes)O[P] = Attributes.value;\n  return O;\n};","exports.f = Object.getOwnPropertySymbols;","var has          = require('./_has')\r\n  , toIObject    = require('./_to-iobject')\r\n  , arrayIndexOf = require('./_array-includes')(false)\r\n  , IE_PROTO     = require('./_shared-key')('IE_PROTO');\r\n\r\nmodule.exports = function(object, names){\r\n  var O      = toIObject(object)\r\n    , i      = 0\r\n    , result = []\r\n    , key;\r\n  for(key in O)if(key != IE_PROTO)has(O, key) && result.push(key);\r\n  // Don't enum bug & hidden keys\r\n  while(names.length > i)if(has(O, key = names[i++])){\r\n    ~arrayIndexOf(result, key) || result.push(key);\r\n  }\r\n  return result;\r\n};","// 19.1.2.14 / 15.2.3.14 Object.keys(O)\r\nvar $keys       = require('./_object-keys-internal')\r\n  , enumBugKeys = require('./_enum-bug-keys');\r\n\r\nmodule.exports = Object.keys || function keys(O){\r\n  return $keys(O, enumBugKeys);\r\n};","exports.f = {}.propertyIsEnumerable;","module.exports = function(bitmap, value){\n  return {\n    enumerable  : !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable    : !(bitmap & 4),\n    value       : value\n  };\n};","var shared = require('./_shared')('keys')\r\n  , uid    = require('./_uid');\r\nmodule.exports = function(key){\r\n  return shared[key] || (shared[key] = uid(key));\r\n};","var global = require('./_global')\n  , SHARED = '__core-js_shared__'\n  , store  = global[SHARED] || (global[SHARED] = {});\nmodule.exports = function(key){\n  return store[key] || (store[key] = {});\n};","var toInteger = require('./_to-integer')\n  , max       = Math.max\n  , min       = Math.min;\nmodule.exports = function(index, length){\n  index = toInteger(index);\n  return index < 0 ? max(index + length, 0) : min(index, length);\n};","// 7.1.4 ToInteger\nvar ceil  = Math.ceil\n  , floor = Math.floor;\nmodule.exports = function(it){\n  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);\n};","// to indexed object, toObject with fallback for non-array-like ES3 strings\nvar IObject = require('./_iobject')\n  , defined = require('./_defined');\nmodule.exports = function(it){\n  return IObject(defined(it));\n};","// 7.1.15 ToLength\nvar toInteger = require('./_to-integer')\n  , min       = Math.min;\nmodule.exports = function(it){\n  return it > 0 ? min(toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991\n};","// 7.1.13 ToObject(argument)\nvar defined = require('./_defined');\nmodule.exports = function(it){\n  return Object(defined(it));\n};","// 7.1.1 ToPrimitive(input [, PreferredType])\nvar isObject = require('./_is-object');\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function(it, S){\n  if(!isObject(it))return it;\n  var fn, val;\n  if(S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it)))return val;\n  if(typeof (fn = it.valueOf) == 'function' && !isObject(val = fn.call(it)))return val;\n  if(!S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it)))return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};","var id = 0\n  , px = Math.random();\nmodule.exports = function(key){\n  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));\n};","// 19.1.3.1 Object.assign(target, source)\nvar $export = require('./_export');\n\n$export($export.S + $export.F, 'Object', {assign: require('./_object-assign')});","/**\r\n * Created by Ebrahem on 7/7/2016.\r\n */\r\n\r\n(function() {\r\n    var _sections = [];\r\n\r\n    // Ramda predicates!\r\n    var isRoot         = R.complement(R.has('parent'));\r\n    var isChildOf      = R.propEq('parent');\r\n    var children       = R.compose(R.filter, isChildOf);\r\n    var renderable     = R.complement(R.propEq('toRender', false));\r\n    var sorted         = R.compose(R.reverse, R.sortBy(R.prop('index')));\r\n    var roots          = R.filter(x => isRoot(x) && renderable(x));\r\n    var findIdByHeader = R.compose(R.find(R.__, _sections), R.propEq('header'));\r\n    // R.filter(x => isRoot(x), objects);\r\n    // R.filter(x => Renderable(x), objects);\r\n\r\n    var parentmenu = {\r\n        view: function(ctrl, args) {\r\n            return (\r\n            m('a', {class: '', 'data-toggle': 'dropdown', 'data-hover': 'megamenu-dropdown', 'data-close-others': 'true' },\r\n                [\r\n                    args,\r\n                    m('i.fa.fa-angle-down')\r\n                ])\r\n            );\r\n        }\r\n    };\r\n\r\n    var submenu = {\r\n        view: function(ctrl, subs) {\r\n            return (\r\n                m('ul', {class: 'dropdown-menu pull-left'},\r\n                    [\r\n                        R.filter(x => renderable(x), subs).map(function(sub) {\r\n                            return (\r\n                            m('li',\r\n                                m('a', {\r\n                                        href: sub.route,\r\n                                        config: m.route\r\n                                    }\r\n                                    , m('i.fa.fa-cubes')\r\n                                    , ' ' + sub.header)\r\n                            ));})\r\n                    ])\r\n            );\r\n        }\r\n    };\r\n\r\n    var lonemenu = {\r\n        view: function(ctrl, args) {\r\n            return (\r\n                m('li',\r\n                    m('a', {\r\n                        href: args.route,\r\n                        config: m.route\r\n                    }, args.header)\r\n                )\r\n            );\r\n        }\r\n    };\r\n\r\n    var dropdownmenu = {\r\n      view: function(ctrl, args) {\r\n          return (\r\n              m('li', {class: 'menu-dropdown classic-menu-dropdown'},\r\n              [\r\n                  m.component(parentmenu, args.header),\r\n                  m.component(submenu, args.sub)\r\n              ])\r\n          );\r\n      }\r\n    };\r\n\r\n    var nav = {\r\n        view: function() {\r\n            return (\r\n                sorted(roots(_sections)).map(function(section) {\r\n                    var sec = section;\r\n                    if (!authorized(_claims, sec)) { return; }\r\n                    return (\r\n                        children(sec.id)(_sections).length == 0 ?\r\n                            //lone\r\n                            m.component(lonemenu, {header: sec.header, route: sec.route || ''})\r\n                            :\r\n                            //got children!\r\n                            m.component(dropdownmenu, {header: sec.header, sub: children(sec.id)(_sections)})\r\n\r\n                        //version 2 with arrow function!\r\n                        /*(x=children(sec.id)(_sections)) => x.length == 0 ?\r\n                            //lone\r\n                            m.component(lonemenu, {header: sec.header, route: sec.route || ''})\r\n                            :\r\n                            //got children!\r\n                            m.component(dropdownmenu, {header: sec.header, sub: x})*/\r\n                    );\r\n                }));\r\n        }\r\n    };\r\n\r\n    var Section = function(section) {\r\n        \"use strict\";\r\n        this.id = guid();\r\n        Object.assign(this, section);\r\n        _sections.push(this);\r\n    }\r\n\r\n\tSection.prototype.AddModule = function (module) {\r\n        module.parent = this.id;\r\n        _sections.push(module);\r\n        return this;\r\n    };\r\n\r\n    var guid = function() {\r\n        return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {\r\n            var r = Math.random()*16|0, v = c == 'x' ? r : (r&0x3|0x8);\r\n            return v.toString(16);\r\n        });\r\n    };\r\n\r\n    var filter = function(claims) {\r\n        return R.flatten(\r\n            R.keys(sections).map(\r\n                function(t) {\r\n                    var s = sections[t];\r\n                    return s.sub ? [].concat(s, s.sub) : s;\r\n                }\r\n            )\r\n        ).filter(\r\n            function(r) {\r\n                return authorized(claims, r);\r\n            }\r\n        );\r\n    };\r\n\r\n    var authorized = function(claims, component) {\r\n        var required = component.claims,\r\n            requiredaslist = R.equals(R.type(required), 'Object') ? [required] : required;\r\n        var bool = (R.contains({type: 'Type', value: 'SystemAdministrator'}, claims) ||\r\n        (R.has('claims')(component) && (\r\n            R.equals({type: 'Type', value: 'any'}, required) ||\r\n\r\n            R.intersection(claims, requiredaslist).length > 0\r\n        )));\r\n        return bool;\r\n    };\r\n\r\n    var GetRoutes = function() {\r\n        \"use strict\";\r\n        return R.fromPairs(R.filter(x => R.has('route')(x), _sections).map(x => [x.route, x.section]));\r\n    }\r\n\r\n    var _claims = [];\r\n\r\n    var pHObj = {\r\n        SetClaims: function(claims) {\r\n            _claims = claims;\r\n        },\r\n        filter: filter,\r\n        sections: _sections,\r\n        Routes: GetRoutes(),\r\n        AddSection: function(section) {\r\n            return new Section(section);\r\n        },\r\n        InitMenu: function(node) {\r\n            m.mount(document.getElementById(node), nav);\r\n        },\r\n        InitRoute: function(node) {\r\n            var rr = GetRoutes();\r\n            m.route(document.getElementById(node), '/', rr);\r\n        },\r\n        From: function(section) {\r\n            /*\r\n            var header;\r\n            if (section instanceof Section) {\r\n                header = section.id;\r\n            } else if(R.equals(R.type(section), 'String')) {\r\n                header = section;\r\n            } else if(R.equals(R.type(section), 'Object')) {\r\n                header = section.id;\r\n            }\r\n\r\n            if (R.has(header)(sections)) {\r\n                return sections[header];\r\n            }\r\n\r\n            console.log('Throwing error', JSON.stringify(section));\r\n            throw new Error({name: 'From Error', message: 'Unknown section, args:'});\r\n            */\r\n            if (section instanceof Section) {\r\n                return section;\r\n            }\r\n\r\n            var found;\r\n\r\n            if(R.equals(R.type(section), 'String')) {\r\n                found = findIdByHeader(section);\r\n            } else if(R.equals(R.type(section), 'Object')) {\r\n                found = findIdByHeader(section.header);\r\n            }\r\n\r\n            if (found) {\r\n                return found;\r\n            }\r\n\r\n            console.log('Throwing error', JSON.stringify(section));\r\n            throw new Error({name: 'From Error', message: 'Unknown section, args:'});\r\n\r\n        }\r\n    };\r\n    window.pH = pHObj;\r\n})();\r\n"]}